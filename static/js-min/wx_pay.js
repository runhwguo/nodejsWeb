"use strict";function _isSupportWxPay(){var a=window.navigator.userAgent.match(/MicroMessenger\/([\d.]+)/i);return a&&a[1]>="5.0"}function onBridgeReady(){$.get("/api/wechat/pay/start?"+$.param(_param),function(a){a&&WeixinJSBridge.invoke("getBrandWCPayRequest",a,function(a){"get_brand_wcpay_request:ok"===a.err_msg?_successCallback&&_successCallback():_failCallback&&_failCallback()})})}function startPay(a,e,n){_param=a,_successCallback=e,_failCallback=n,_isSupportWxPay?"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):onBridgeReady():alert("请升级微信!")}var _param=[],_successCallback=null,_failCallback=null;