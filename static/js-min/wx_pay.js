"use strict";function _isSupportWxPay(){var e=window.navigator.userAgent.match(/MicroMessenger\/([\d.]+)/i);return e&&e.length>=2&&e[1]>="5.0"}function onBridgeReady(){$.get("/api/wechat/pay/start?"+$.param(_param),function(e){e&&WeixinJSBridge.invoke("getBrandWCPayRequest",e,function(e){"get_brand_wcpay_request:ok"===e.err_msg?_successCallback&&_successCallback():_failCallback&&_failCallback()})})}function startPay(e,a,n){_param=e,_successCallback=a,_failCallback=n,_isSupportWxPay?"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady)):onBridgeReady():alert("请升级微信!")}var _param=[],_successCallback=null,_failCallback=null;